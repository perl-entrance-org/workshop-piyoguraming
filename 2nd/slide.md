# ループ処理

- Scratchの「ずっと」や「あいだじゅう」に対応する処理を「ループ処理」といいます
    - 日本語的には「繰り返し処理」「反復処理」ですね!

# なんでループ処理があるのか

- Scratchでは猫を「ずっと」動かす時などに使いました
- プログラミングでも、「ずっと」同じ処理をしたい場合や、「ある回数」同じ処理をしたい時、「それになるまで」処理をしたい時に使います
    - Scratchで猫を動かすのと考え方は同じですよね!
- もし、ループ処理がないと、例えば「同じ処理を100回したい!」となった時に、100回同じコードを書く必要があります
    - 流石に辛いですよね...!

# ループ処理の種類

- プログラミング言語の大体には大きく2つのループ処理が実装されています
- 他のループ方法も言語によってはありますが、今回は基本を勉強します


# ループ処理の種類
- for
    - 指定した回数を繰り返すことができる
    - 集めた要素(集合に対して繰り返す)

- while
    - ある条件を満たしている間、繰り返す

# 使い分け

- 回数が決まっている。ある集合に対して同じことをしたい
    - forを使おう!!
- ある一定条件でループさせたい
    - whileを使おう!!!

- 基本的にはこの考え方ですが、強制はないので、好きな方で書きましょう
    - 両方互換性があるので、どちらの書き方でも可能です

# Perlで数字の集合を作る

- Perlでは `'数字'..'数字'` と書くことで、 その数値の範囲の集合を作ることができます

- ↓のプログラムを実行して見ましょう!
  
```perl
print 1..10;
print "\n";
```

## 練習問題

- Perlを使って 1から20までの数値の集合を作りましょう
- 次に、 -10から10までの集合を作ってみましょう

# for文の例

- `..` と組み合わせると、指定した回数を繰り返すことができる
    - ループのたびに、集合から1つ1つ数字を取り出し、 変数 `$i` に代入する
    - その代入した変数を使って、ブロックの中の処理を実行する
    - ブロックが終わったら次の値を取り出す
    - それを値がなくなるまで繰り返す

```perl
for my $i (1..10){
    print "numbers is $i\n";
}
```

- `$i` とは、index(索引)の略で、こういったループ処理や配列の操作(次回以降に学びます)でよく使われます
- 集合の中の1要素を取るときに、数値を `$i` に設定することが慣習的に多いです



# ブロック

- 複数の文(statement)の集合のことをブロックといいます
    - 日本語で言うところの段落に近い概念です
- PerlやC言語では `{` `}` で囲まれている部分がブロックとなります
    - 他の言語では、 インデント(字下げ) や `begin` `end` などで囲むケースがあります
- for文やwhile文では、ループ中に実行する処理をブロックで表現します


# インデント

- すでにお気づきかもしれませんが、先程のループのプログラムには、行頭に謎の空白がある行があります

```perl
for my $i (1..10){
    print "numbers is $i\n";
    print "hello\n";
}

print "finish loop!\n";
```

- 上の例では2,3行目に謎の空白が行頭にあります
- この行の様に、行頭に空白をいれることを「インデント」、「インデントする」と呼びます
    - インデントは日本語では「字下げ」と呼びます
- インデントは、プログラムではただの空白なので、特に意味を持ちません

# 綺麗なコードとインデント

- では、なぜインデントをするのでしょうか
- これは、先程のブロックと関連しています


```perl
for my $i (1..10){
print "numbers is $i\n";
print "hello\n";
}

print "finish loop!\n";
```

- 例えば、 上のコードの場合、どこからどこまでが、for文でループの度に実行されるのか `{` と `}` を注意深く探さないといけません



# 綺麗なコードとインデント


```perl
for my $i (1..10){
if ($i % 2 == 0){
print "this is even\n";
}else{
print "numbers is $i\n";
print "hello\n";
}
}

print "finish loop!\n";
```

- さらに中にif文をいれると、「あれ...どこからどこまでがif文の範囲...?」みたいになってしまいます

# 綺麗なコードとインデント


```perl
for my $i (1..10){
if ($i % 2 == 0){
if ($i == 2){
print "this is even and i = 2!!\n";
}else{
print "this is even\n";
}
}else{
print "numbers is $i\n";
print "hello\n";
}
}

print "finish loop!\n";
```

- if文の中にif文をいれるともはやなんだかわかりません... 😇 

# インデントをしよう

- インデントは、半角スペースかtab文字が良いとされています
    - 最近のプログラマの間では、半角スペースがよく利用されています
- インデントでいれる半角スペースの長さは言語によって推奨されているものがある場合があります
    - 他にはプロジェクトベースで指定されています
- Perlでは、「4つの半角スペース」をインデントスタイルとして利用するケースが多いです
